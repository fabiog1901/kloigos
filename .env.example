# postgres or sqlite
DB_ENGINE = "postgres"

DB_URL = "postgres://kloigos:kloigos@localhost:26257/kloigos?sslmode=require"

# count of ports assigned for each allocated cpu.
#
# 64000 total avilable ports per server / 512 max_cpus_per_server = 125 ports_per_cpu
PORTS_PER_CPU = 125
# We assign ports to compute units starting from base_port
BASE_PORT = 1500
# Kloigos supports server up to these many CPUs
MAX_CPUS_PER_SERVER = 512

# ---------- OIDC / JWT auth ----------
# Enterprise SSO license key. If missing/invalid, OIDC is ignored and Kloigos runs in unauthenticated mode.
KLOIGOS_ENTERPRISE_LICENSE_KEY = ""

# Set to true to require authentication for /api/admin/* and /api/compute_units/*
OIDC_ENABLED = false

# Provider details (Keycloak / Okta / Entra / Google / Auth0)
OIDC_ISSUER_URL = ""
OIDC_CLIENT_ID = ""
OIDC_CLIENT_SECRET = ""
OIDC_SCOPES = "openid profile email"

# Optional; commonly needed with Auth0 APIs
OIDC_AUDIENCE = ""

# Optional JSON object for provider-specific params
# Example: {"prompt":"login","access_type":"offline"}
OIDC_EXTRA_AUTH_PARAMS = "{}"

# Optional override for callback URL; if empty, app derives from request.url_for("oidc_callback")
OIDC_REDIRECT_URI = ""

# Cookie/session controls
OIDC_SESSION_COOKIE_NAME = "kloigos_session"
OIDC_COOKIE_SECURE = false
OIDC_COOKIE_SAMESITE = "lax"
OIDC_COOKIE_DOMAIN = ""
OIDC_VERIFY_AUDIENCE = false

# Authorization controls
# CSV list of groups allowed to invoke protected endpoints.
OIDC_AUTHZ_ALLOWED_GROUPS = ""
# Claim name in the token that contains user groups.
OIDC_AUTHZ_GROUPS_CLAIM = "groups"
